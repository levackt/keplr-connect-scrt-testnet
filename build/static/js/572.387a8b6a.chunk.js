"use strict";(self.webpackChunkreact=self.webpackChunkreact||[]).push([[572],{5572:function(e,n,r){r.r(n),r.d(n,{default:function(){return v}});var t=r(3508),c=r(3032),s=r(3430),a=r(2791),i=r(6934),o=r(4536),l=r(1817),u=r(1140),p=r(349),d=r(7453),h="SCRT",f="uscrt",x="https://grpc.pulsar.scrttestnet.com",w="https://rpc.pulsar.scrttestnet.com",m="https://api.pulsar.scrttestnet.com",b="pulsar-2",g="Secret Testnet",k=r(5454),Z=r(184);function v(){var e=(0,a.useState)(""),n=(0,s.Z)(e,2),r=n[0],v=n[1],j=(0,a.useState)(""),y=(0,s.Z)(j,2),C=y[0],P=y[1],A=(0,a.useState)(!1),D=(0,s.Z)(A,2),N=D[0],M=D[1];function S(){return E.apply(this,arguments)}function E(){return E=(0,c.Z)((0,t.Z)().mark((function e(){var n,r,c,a,i,o,l;return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=window.getOfflineSignerOnlyAmino(b),e.next=3,n.getAccounts();case 3:return r=e.sent,c=(0,s.Z)(r,1),a=c[0].address,v(a),e.next=9,d.SecretNetworkClient.create({grpcWebUrl:x,chainId:b,wallet:n,walletAddress:a,encryptionUtils:window.getEnigmaUtils(b)});case 9:return i=e.sent,e.next=12,i.query.bank.balance({address:a,denom:f});case 12:o=e.sent,l=o.balance.amount,P("".concat(l/1e6," ").concat(h));case 15:case"end":return e.stop()}}),e)}))),E.apply(this,arguments)}function _(){return(_=(0,c.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("connecting to chain-id:".concat(b,", \n    CHAIN_NAME=").concat(g,", RPC_URL=").concat(w,", LCD_URL=").concat(m,", DENOM=").concat(h,", \n    MINIMAL_DENOM=").concat(f)),e.next=3,window.keplr.experimentalSuggestChain({chainId:b,chainName:g,rpc:w,rest:m,bip44:{coinType:529},coinType:529,stakeCurrency:{coinDenom:h,coinMinimalDenom:f,coinDecimals:6},bech32Config:{bech32PrefixAccAddr:"secret",bech32PrefixAccPub:"secretpub",bech32PrefixValAddr:"secretvaloper",bech32PrefixValPub:"secretvaloperpub",bech32PrefixConsAddr:"secretvalcons",bech32PrefixConsPub:"secretvalconspub"},currencies:[{coinDenom:h,coinMinimalDenom:f,coinDecimals:6}],feeCurrencies:[{coinDenom:h,coinMinimalDenom:f,coinDecimals:6}],gasPriceStep:{low:.1,average:.25,high:.4},features:["secretwasm"]});case 3:return e.next=5,window.keplr.enable(b);case 5:S(),M(!0);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return window.addEventListener("keplr_keystorechange",(0,c.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,S();case 2:case"end":return e.stop()}}),e)})))),(0,a.useEffect)((function(){var e=function(){var e=(0,c.Z)((0,t.Z)().mark((function e(){return(0,t.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!window.keplr){e.next=12;break}return e.prev=1,e.next=4,window.keplr.enable(b);case 4:M(!0),e.next=12;break;case 7:return e.prev=7,e.t0=e.catch(1),console.warn("failed to enable chain-id: ".concat(b),e.t0),M(!1),e.abrupt("return");case 12:return e.next=14,S();case 14:case"end":return e.stop()}}),e,null,[[1,7]])})));return function(){return e.apply(this,arguments)}}();return e(),function(){}}),[]),(0,Z.jsxs)(i.Z,{className:"keplr",children:[!N&&(0,Z.jsxs)("div",{className:"enableKeplr",children:[(0,Z.jsx)(o.Z,{justify:"center",children:(0,Z.jsx)(l.Z,{h4:!0,weight:"bold",children:"Add pulsar-2 network configuration to Keplr"})}),(0,Z.jsx)(o.Z,{children:(0,Z.jsx)(u.ZP,{className:"keplrConnect",onPress:function(){return _.apply(this,arguments)},children:(0,Z.jsx)("img",{src:"images/Keplr_Black.png",alt:""})})})]}),N&&(0,Z.jsxs)(p.ZP,{className:"keplrCard",children:[(0,Z.jsx)(l.Z,{h4:!0,weight:"bold",children:"Keplr connected"}),(0,Z.jsxs)("div",{children:[(0,Z.jsxs)("p",{children:[(0,Z.jsx)("strong",{children:"My Address:"})," ",r]}),C?(0,Z.jsx)("div",{children:(0,Z.jsx)("p",{children:(0,Z.jsxs)("strong",{children:["My Balance: ",C]})})}):(0,Z.jsx)(k.ZP,{})]})]})]})}}}]);
//# sourceMappingURL=572.387a8b6a.chunk.js.map